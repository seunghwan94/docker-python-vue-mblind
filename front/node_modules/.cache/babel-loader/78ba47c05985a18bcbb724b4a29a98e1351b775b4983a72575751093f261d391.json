{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card bg-light m-2\",\n  style: {\n    \"max-width\": \"100%\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, \"댓글\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0,\n  class: \"d-flex p-3 pb-0\",\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"column\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"card-body align-items-center\",\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"row\"\n  }\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"w-100 ps-4\"\n};\nconst _hoisted_7 = {\n  class: \"d-flex\",\n  style: {\n    \"align-items\": \"center\",\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_8 = {\n  style: {\n    \"font-weight\": \"bold\",\n    \"margin\": \"0\"\n  }\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"d-flex\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-pencil-square\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-trash\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_15 = [_hoisted_14];\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = [\"onUpdate:modelValue\"];\nconst _hoisted_18 = {\n  class: \"d-flex mt-2 mb-2\",\n  style: {\n    \"justify-content\": \"flex-end\"\n  }\n};\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = {\n  key: 1,\n  class: \"card-text m-0\"\n};\nconst _hoisted_22 = {\n  class: \"text-body-tertiary m-0\",\n  style: {\n    \"text-align\": \"end\",\n    \"font-size\": \"13px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, $data.comments.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.comments, (commentdata, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"card border-light mb-3\",\n      style: {\n        \"max-width\": \"100%\"\n      }\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n      src: require(`../../assets/img/${commentdata.img}`),\n      style: {\n        \"width\": \"50px\",\n        \"border-radius\": \"50%\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString(commentdata.name), 1 /* TEXT */), commentdata.name === _ctx.user_name ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", {\n      type: \"button\",\n      class: \"m-0\",\n      style: {\n        \"font-size\": \"16px\"\n      },\n      onClick: $event => $options.toggleEdit(index)\n    }, [..._hoisted_12], 8 /* PROPS */, _hoisted_10), _createElementVNode(\"div\", {\n      type: \"button\",\n      class: \"m-0 ms-1\",\n      style: {\n        \"font-size\": \"16px\"\n      },\n      onClick: $event => _ctx.commentDelete(index, commentdata.id)\n    }, [..._hoisted_15], 8 /* PROPS */, _hoisted_13)])) : _createCommentVNode(\"v-if\", true)]), commentdata.isEditing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": $event => commentdata.editContent = $event,\n      class: \"form-control\",\n      rows: \"2\"\n    }, null, 8 /* PROPS */, _hoisted_17), [[_vModelText, commentdata.editContent]]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-sm\",\n      onClick: $event => _ctx.saveEdit(index, commentdata.id)\n    }, \"수정\", 8 /* PROPS */, _hoisted_19), _createElementVNode(\"button\", {\n      class: \"btn btn-secondary btn-sm ms-2\",\n      onClick: $event => $options.cancelEdit(index)\n    }, \"취소\", 8 /* PROPS */, _hoisted_20)])])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_21, _toDisplayString(commentdata.content), 1 /* TEXT */)), _createElementVNode(\"p\", _hoisted_22, _toDisplayString($options.sendformatDate(commentdata.create_date)), 1 /* TEXT */)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","key","_hoisted_11","_hoisted_14","_createElementBlock","_hoisted_1","_hoisted_2","$data","comments","length","_hoisted_3","_Fragment","_renderList","commentdata","index","_hoisted_4","src","require","img","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","name","_ctx","user_name","_hoisted_9","type","onClick","$event","$options","toggleEdit","_hoisted_12","_hoisted_10","commentDelete","id","_hoisted_15","_hoisted_13","_createCommentVNode","isEditing","_hoisted_16","editContent","rows","_hoisted_17","_hoisted_18","saveEdit","_hoisted_19","cancelEdit","_hoisted_20","_hoisted_21","content","_hoisted_22","sendformatDate","create_date"],"sources":["/var/www/front/src/components/Board/BoardComment.vue"],"sourcesContent":["<template>\n    <div class=\"card bg-light m-2\" style=\"max-width: 100%;\">\n        <div class=\"card-header\">댓글</div>\n        <div v-if=\"comments.length > 0\" class=\"d-flex p-3 pb-0 \" style=\"display:flex; flex-direction: column;\">\n            <div v-for=\"(commentdata, index) in comments\" :key=\"index\" class=\"card border-light mb-3\" style=\"max-width: 100%;\">\n                <div class=\"card-body align-items-center\" style=\"display:flex;flex-direction: row;\">\n                        <img :src=\"require(`../../assets/img/${commentdata.img}`)\" style=\"width: 50px;border-radius: 50%;\">\n                        <div class=\"w-100 ps-4\">\n                            <div class=\"d-flex\" style=\"align-items: center;justify-content: space-between;\">\n                                <p style=\"font-weight: bold; margin:0;\">{{ commentdata.name }}</p>\n                                <div class=\"d-flex\" v-if=\"commentdata.name === user_name\">\n                                    <div type=\"button\" class=\"m-0\" style=\"font-size: 16px;\" @click=\"toggleEdit(index)\"><i class=\"bi bi-pencil-square\"></i></div>\n                                    <div type=\"button\" class=\"m-0 ms-1\" style=\"font-size: 16px;\" @click=\"commentDelete(index, commentdata.id)\"><i class=\"bi bi-trash\"></i></div>\n                                </div>\n                            </div>\n\n                            <div v-if=\"commentdata.isEditing\">\n                                <textarea v-model=\"commentdata.editContent\" class=\"form-control\" rows=\"2\"></textarea>\n                                <div class=\"d-flex mt-2 mb-2\" style=\"justify-content: flex-end;\">\n                                    <button class=\"btn btn-primary btn-sm \" @click=\"saveEdit(index, commentdata.id)\">수정</button>\n                                    <button class=\"btn btn-secondary btn-sm  ms-2\" @click=\"cancelEdit(index)\">취소</button>\n                                </div>\n                            </div>\n\n                            <p v-else class=\"card-text m-0\">{{ commentdata.content }}</p>\n\n                            <p class=\"text-body-tertiary m-0\" style=\"text-align: end; font-size: 13px;\">{{ sendformatDate(commentdata.create_date) }}</p>\n                        </div>\n                    </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    props:{\n        board_id: String,\n    },\n    data(){\n        return{\n            comments:[],\n            isEditingPost: false,\n            editContent: '',\n        }\n    },\n    mounted() {\n        this.commentList();\n    },\n    methods: {\n        sendformatDate(create_date){\n            this.$emit('formatDate', create_date);\n        },\n        cancelEdit(index) {\n            this.comments[index].isEditing = false;\n        },\n        toggleEdit(index) {\n            this.comments[index].isEditing = !this.comments[index].isEditing;\n            if (this.comments[index].isEditing) {\n                this.comments[index].editContent = this.comments[index].content;\n            }\n        },\n        async commentList() {\n            try {\n                const response = await axios.get(`${this.$BackURL}/commentList`, {\n                    params: {\n                        board_id: this.board_id\n                    }\n                });\n                if (response.data.status === 'success') {\n                    this.comments = response.data.res.map(comment => ({\n                        ...comment,\n                        isEditing: false,\n                        editContent: ''\n                    }));\n                } else {\n                    console.error('Failed to fetch comments:', response.data.message);\n                }\n            } catch (error) {\n                console.error('Error fetching comments:', error);\n            }\n        },\n    }\n}\n</script>\n<style>\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}