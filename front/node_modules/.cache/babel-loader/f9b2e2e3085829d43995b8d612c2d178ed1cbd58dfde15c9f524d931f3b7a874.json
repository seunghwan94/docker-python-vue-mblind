{"ast":null,"code":"import BoardComment from './BoardComment.vue';\nexport default {\n  data() {\n    return {\n      commentCount: this.selectBoard.comment_count,\n      dropdownVisible: false,\n      editTitle: ''\n    };\n  },\n  components: {\n    BoardComment\n  },\n  props: {\n    selectBoard: Object\n  },\n  methods: {\n    toggleDropdown() {\n      this.dropdownVisible = !this.dropdownVisible;\n    },\n    editPost(board_id) {\n      this.editTitle = this.selectBoard.title;\n      this.editContent = this.stripHtml(this.selectBoard.content);\n      this.isEditingPost = true;\n      this.dropdownVisible = false;\n      this.$emit('SelectPost', board_id, true);\n    },\n    cancelPostEdit() {\n      this.isEditingPost = false;\n    },\n    stripHtml(html) {\n      let doc = new DOMParser().parseFromString(html, 'text/html');\n      let text = doc.body.textContent || \"\";\n      return text;\n    },\n    formatDate(dateString) {\n      let date = new Date(dateString);\n      let year = date.getFullYear();\n      let month = ('0' + (date.getMonth() + 1)).slice(-2);\n      let day = ('0' + date.getDate()).slice(-2);\n      let hours = ('0' + date.getHours()).slice(-2);\n      let minutes = ('0' + date.getMinutes()).slice(-2);\n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    }\n  }\n};","map":{"version":3,"names":["BoardComment","data","commentCount","selectBoard","comment_count","dropdownVisible","editTitle","components","props","Object","methods","toggleDropdown","editPost","board_id","title","editContent","stripHtml","content","isEditingPost","$emit","cancelPostEdit","html","doc","DOMParser","parseFromString","text","body","textContent","formatDate","dateString","date","Date","year","getFullYear","month","getMonth","slice","day","getDate","hours","getHours","minutes","getMinutes"],"sources":["/var/www/front/src/components/Board/BoardView.vue"],"sourcesContent":["<template>\n    <div class=\"card border-success mb-3\" style=\"max-width: 100%\">\n        <div class=\"card-header d-flex\" style=\"justify-content: space-between;\">\n            {{ selectBoard.category_name }}\n            <p class=\"card-text\">{{ selectBoard.user_username }}</p>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"d-flex justify-content-between\">\n                <h4 class=\"card-title mt-3 mb-3\">{{ selectBoard.title }}</h4>\n                <div class=\"dropdown\">\n                    <div type=\"button\" @click=\"toggleDropdown\" style=\"cursor: pointer;\">\n                        <i class=\"bi bi-three-dots-vertical\"></i>\n                    </div>\n                    <div class=\"dropdown-menu show\" v-if=\"dropdownVisible\" >\n                        <button class=\"dropdown-item\" @click=\"editPost(selectBoard.board_id)\">수정</button>\n                        <button class=\"dropdown-item\" @click=\"deletePost\">삭제</button>\n                    </div>\n                </div>\n            </div>\n            <!-- <div>{{ stripHtml(selectBoard.content) }}</div> -->\n            <div v-html=\"selectBoard.content\"></div>\n            <div v-if=\"isEditingPost\" class=\"d-flex justify-content-end mb-3\">\n                <button class=\"btn btn-primary btn-sm\" @click=\"savePostEdit\">저장</button>\n                <button class=\"btn btn-secondary btn-sm ms-2\" @click=\"cancelPostEdit\">취소</button>\n            </div>\n            <div class=\"d-flex mt-5\" style=\"justify-content: space-between;\">\n                <p class=\"text-body-tertiary pe-2 m-0\">{{ formatDate(selectBoard.create_date) }}</p>\n                <div class=\"d-flex justify-content-end\">\n                    <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-eye\"></i> {{ selectBoard.view_count + 1 }}</p>\n                    <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-chat-dots\"></i> {{ commentCount }} </p>\n                </div>\n            </div>\n        </div>\n\n        <BoardComment :board_id=\"selectBoard.board_id\" @formatDate=\"formatDate\"/>\n    </div>\n</template>\n<script>\nimport BoardComment from './BoardComment.vue';\n\nexport default {\n    data() {\n        return {\n            commentCount: this.selectBoard.comment_count,\n            dropdownVisible: false,\n            editTitle: '',\n        };\n    },\n    components:{\n        BoardComment,\n    },\n    props: {\n        selectBoard:Object,\n    },\n    methods:{\n        toggleDropdown() {\n            this.dropdownVisible = !this.dropdownVisible;\n        },\n        editPost(board_id) {\n            this.editTitle = this.selectBoard.title;\n            this.editContent = this.stripHtml(this.selectBoard.content);\n            this.isEditingPost = true;\n            this.dropdownVisible = false;\n            this.$emit('SelectPost',board_id, true)\n        },\n        cancelPostEdit() {\n            this.isEditingPost = false;\n        },\n        stripHtml(html) {\n            let doc = new DOMParser().parseFromString(html, 'text/html');\n            let text = doc.body.textContent || \"\";\n            return text;\n        },\n        formatDate(dateString) {\n            let date = new Date(dateString);\n            let year = date.getFullYear();\n            let month = ('0' + (date.getMonth() + 1)).slice(-2);\n            let day = ('0' + date.getDate()).slice(-2);\n            let hours = ('0' + date.getHours()).slice(-2);\n            let minutes = ('0' + date.getMinutes()).slice(-2);\n            return `${year}-${month}-${day} ${hours}:${minutes}`;\n        },\n    }\n}\n</script>\n<style>\n\n</style>"],"mappings":"AAsCA,OAAOA,YAAW,MAAO,oBAAoB;AAE7C,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,YAAY,EAAE,IAAI,CAACC,WAAW,CAACC,aAAa;MAC5CC,eAAe,EAAE,KAAK;MACtBC,SAAS,EAAE;IACf,CAAC;EACL,CAAC;EACDC,UAAU,EAAC;IACPP;EACJ,CAAC;EACDQ,KAAK,EAAE;IACHL,WAAW,EAACM;EAChB,CAAC;EACDC,OAAO,EAAC;IACJC,cAAcA,CAAA,EAAG;MACb,IAAI,CAACN,eAAc,GAAI,CAAC,IAAI,CAACA,eAAe;IAChD,CAAC;IACDO,QAAQA,CAACC,QAAQ,EAAE;MACf,IAAI,CAACP,SAAQ,GAAI,IAAI,CAACH,WAAW,CAACW,KAAK;MACvC,IAAI,CAACC,WAAU,GAAI,IAAI,CAACC,SAAS,CAAC,IAAI,CAACb,WAAW,CAACc,OAAO,CAAC;MAC3D,IAAI,CAACC,aAAY,GAAI,IAAI;MACzB,IAAI,CAACb,eAAc,GAAI,KAAK;MAC5B,IAAI,CAACc,KAAK,CAAC,YAAY,EAACN,QAAQ,EAAE,IAAI;IAC1C,CAAC;IACDO,cAAcA,CAAA,EAAG;MACb,IAAI,CAACF,aAAY,GAAI,KAAK;IAC9B,CAAC;IACDF,SAASA,CAACK,IAAI,EAAE;MACZ,IAAIC,GAAE,GAAI,IAAIC,SAAS,CAAC,CAAC,CAACC,eAAe,CAACH,IAAI,EAAE,WAAW,CAAC;MAC5D,IAAII,IAAG,GAAIH,GAAG,CAACI,IAAI,CAACC,WAAU,IAAK,EAAE;MACrC,OAAOF,IAAI;IACf,CAAC;IACDG,UAAUA,CAACC,UAAU,EAAE;MACnB,IAAIC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MAC/B,IAAIG,IAAG,GAAIF,IAAI,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAIC,KAAI,GAAI,CAAC,GAAE,IAAKJ,IAAI,CAACK,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;MACnD,IAAIC,GAAE,GAAI,CAAC,GAAE,GAAIP,IAAI,CAACQ,OAAO,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1C,IAAIG,KAAI,GAAI,CAAC,GAAE,GAAIT,IAAI,CAACU,QAAQ,CAAC,CAAC,EAAEJ,KAAK,CAAC,CAAC,CAAC,CAAC;MAC7C,IAAIK,OAAM,GAAI,CAAC,GAAE,GAAIX,IAAI,CAACY,UAAU,CAAC,CAAC,EAAEN,KAAK,CAAC,CAAC,CAAC,CAAC;MACjD,OAAO,GAAGJ,IAAI,IAAIE,KAAK,IAAIG,GAAG,IAAIE,KAAK,IAAIE,OAAO,EAAE;IACxD;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}