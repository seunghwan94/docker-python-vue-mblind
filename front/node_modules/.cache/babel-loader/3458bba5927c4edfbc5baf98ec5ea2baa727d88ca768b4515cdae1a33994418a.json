{"ast":null,"code":"export default {\n  props: {\n    editor: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    setLink() {\n      const url = window.prompt('URL:');\n      if (url) {\n        this.editor.chain().focus().setLink({\n          href: url\n        }).run();\n      } else {\n        this.editor.chain().focus().unsetLink().run();\n      }\n    },\n    async uploadImage(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n      const formData = new FormData();\n      formData.append('image', file);\n      try {\n        const response = await fetch('/api/upload-image', {\n          method: 'POST',\n          body: formData\n        });\n        if (!response.ok) throw new Error('Image upload failed');\n        const data = await response.json();\n        this.editor.chain().focus().setImage({\n          src: data.imageUrl\n        }).run();\n      } catch (error) {\n        console.error('Error uploading image:', error);\n        alert('Failed to upload image. Please try again.');\n      }\n    }\n  }\n};","map":{"version":3,"names":["props","editor","type","Object","required","methods","setLink","url","window","prompt","chain","focus","href","run","unsetLink","uploadImage","event","file","target","files","formData","FormData","append","response","fetch","method","body","ok","Error","data","json","setImage","src","imageUrl","error","console","alert"],"sources":["/var/www/front/src/components/Board/BoardWriteBar.vue"],"sourcesContent":["<template>\n    <div v-if=\"editor\" class=\"menu-bar\">\n      <button @click=\"editor.chain().focus().toggleBold().run()\" :class=\"{ 'is-active': editor.isActive('bold') }\">\n        B\n      </button>\n      <button @click=\"editor.chain().focus().toggleItalic().run()\" :class=\"{ 'is-active': editor.isActive('italic') }\">\n        I\n      </button>\n      <button @click=\"editor.chain().focus().toggleUnderline().run()\" :class=\"{ 'is-active': editor.isActive('underline') }\">\n        U\n      </button>\n      <button @click=\"editor.chain().focus().toggleStrike().run()\" :class=\"{ 'is-active': editor.isActive('strike') }\">\n        S\n      </button>\n      <button @click=\"editor.chain().focus().toggleHeading({ level: 1 }).run()\" :class=\"{ 'is-active': editor.isActive('heading', { level: 1 }) }\">\n        H1\n      </button>\n      <button @click=\"editor.chain().focus().toggleHeading({ level: 2 }).run()\" :class=\"{ 'is-active': editor.isActive('heading', { level: 2 }) }\">\n        H2\n      </button>\n      <button @click=\"editor.chain().focus().setTextAlign('left').run()\" :class=\"{ 'is-active': editor.isActive({ textAlign: 'left' }) }\">\n        ‚Üê\n      </button>\n      <button @click=\"editor.chain().focus().setTextAlign('center').run()\" :class=\"{ 'is-active': editor.isActive({ textAlign: 'center' }) }\">\n        ‚Üî\n      </button>\n      <button @click=\"editor.chain().focus().setTextAlign('right').run()\" :class=\"{ 'is-active': editor.isActive({ textAlign: 'right' }) }\">\n        ‚Üí\n      </button>\n      <button @click=\"editor.chain().focus().toggleBulletList().run()\" :class=\"{ 'is-active': editor.isActive('bulletList') }\">\n        ‚Ä¢\n      </button>\n      <button @click=\"editor.chain().focus().toggleOrderedList().run()\" :class=\"{ 'is-active': editor.isActive('orderedList') }\">\n        1.\n      </button>\n      <button @click=\"setLink\">\n        üîó\n      </button>\n      <label for=\"image-upload\" class=\"image-upload-label\">\n        üì∑\n        <input\n          type=\"file\"\n          id=\"image-upload\"\n          @change=\"uploadImage\"\n          accept=\"image/*\"\n          style=\"display: none;\"\n        />\n      </label>\n    </div>\n  </template>\n\n  <script>\n  export default {\n    props: {\n      editor: {\n        type: Object,\n        required: true,\n      },\n    },\n    methods: {\n      setLink() {\n        const url = window.prompt('URL:')\n        if (url) {\n          this.editor.chain().focus().setLink({ href: url }).run()\n        } else {\n          this.editor.chain().focus().unsetLink().run()\n        }\n      },\n      async uploadImage(event) {\n        const file = event.target.files[0];\n        if (!file) return;\n  \n        const formData = new FormData();\n        formData.append('image', file);\n  \n        try {\n          const response = await fetch('/api/upload-image', {\n            method: 'POST',\n            body: formData,\n          });\n  \n          if (!response.ok) throw new Error('Image upload failed');\n  \n          const data = await response.json();\n          \n          this.editor.chain().focus().setImage({ src: data.imageUrl }).run();\n        } catch (error) {\n          console.error('Error uploading image:', error);\n          alert('Failed to upload image. Please try again.');\n        }\n      },\n    },\n  };\n  </script>\n\n  <style scoped>\n  .menu-bar {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    padding: 8px;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  button, .image-upload-label {\n    background: none;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    cursor: pointer;\n    padding: 4px 8px;\n    font-size: 14px;\n  }\n  \n  button.is-active {\n    background-color: #e9ecef;\n    font-weight: bold;\n  }\n  \n  .image-upload-label:hover {\n    background-color: #f0f0f0;\n  }\n  </style>"],"mappings":"AAoDE,eAAe;EACbA,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAOA,CAAA,EAAG;MACR,MAAMC,GAAE,GAAIC,MAAM,CAACC,MAAM,CAAC,MAAM;MAChC,IAAIF,GAAG,EAAE;QACP,IAAI,CAACN,MAAM,CAACS,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACL,OAAO,CAAC;UAAEM,IAAI,EAAEL;QAAI,CAAC,CAAC,CAACM,GAAG,CAAC;MACzD,OAAO;QACL,IAAI,CAACZ,MAAM,CAACS,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACG,SAAS,CAAC,CAAC,CAACD,GAAG,CAAC;MAC9C;IACF,CAAC;IACD,MAAME,WAAWA,CAACC,KAAK,EAAE;MACvB,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAClC,IAAI,CAACF,IAAI,EAAE;MAEX,MAAMG,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,IAAI,CAAC;MAE9B,IAAI;QACF,MAAMM,QAAO,GAAI,MAAMC,KAAK,CAAC,mBAAmB,EAAE;UAChDC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEN;QACR,CAAC,CAAC;QAEF,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;QAExD,MAAMC,IAAG,GAAI,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAElC,IAAI,CAAC7B,MAAM,CAACS,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACoB,QAAQ,CAAC;UAAEC,GAAG,EAAEH,IAAI,CAACI;QAAS,CAAC,CAAC,CAACpB,GAAG,CAAC,CAAC;MACpE,EAAE,OAAOqB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CE,KAAK,CAAC,2CAA2C,CAAC;MACpD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}