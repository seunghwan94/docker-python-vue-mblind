{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card border-success mb-3\",\n  style: {\n    \"max-width\": \"100%\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"card-header d-flex\",\n  style: {\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"card-text\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"d-flex justify-content-between\"\n};\nconst _hoisted_6 = {\n  class: \"card-title mt-3 mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"dropdown\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-three-dots-vertical\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 0,\n  class: \"dropdown-menu show\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"d-flex justify-content-end mb-3\"\n};\nconst _hoisted_12 = {\n  class: \"d-flex mt-5\",\n  style: {\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"text-body-tertiary pe-2 m-0\"\n};\nconst _hoisted_14 = {\n  class: \"d-flex justify-content-end\"\n};\nconst _hoisted_15 = {\n  class: \"text-body-tertiary pe-2 m-0\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-eye\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"text-body-tertiary pe-2 m-0\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-chat-dots\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_19 = {\n  class: \"card bg-light m-2\",\n  style: {\n    \"max-width\": \"100%\"\n  }\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, \"댓글\", -1 /* HOISTED */);\nconst _hoisted_21 = {\n  key: 0,\n  class: \"d-flex p-3 pb-0\",\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"column\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createTextVNode(_toDisplayString($props.selectBoard.category_name) + \" \", 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_3, _toDisplayString($props.selectBoard.user_username), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h4\", _hoisted_6, _toDisplayString($props.selectBoard.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleDropdown && $options.toggleDropdown(...args)),\n    style: {\n      \"cursor\": \"pointer\"\n    }\n  }, [..._hoisted_9]), $data.dropdownVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.editPost($props.selectBoard.board_id))\n  }, \"수정\"), _createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.deletePost && _ctx.deletePost(...args))\n  }, \"삭제\")])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", null, _toDisplayString($options.stripHtml($props.selectBoard.content)), 1 /* TEXT */), $data.isEditingPost ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary btn-sm\",\n    onClick: _cache[3] || (_cache[3] = (...args) => _ctx.savePostEdit && _ctx.savePostEdit(...args))\n  }, \"저장\"), _createElementVNode(\"button\", {\n    class: \"btn btn-secondary btn-sm ms-2\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.cancelPostEdit && $options.cancelPostEdit(...args))\n  }, \"취소\")])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"p\", _hoisted_13, _toDisplayString($options.formatDate($props.selectBoard.create_date)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"p\", _hoisted_15, [_hoisted_16, _createTextVNode(\" \" + _toDisplayString($props.selectBoard.view_count + 1), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_17, [_hoisted_18, _createTextVNode(\" \" + _toDisplayString($data.commentCount), 1 /* TEXT */)])])])]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _ctx.comments.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_createCommentVNode(\" <div v-for=\\\"(commentdata, index) in comments\\\" :key=\\\"index\\\" class=\\\"card border-light mb-3\\\" style=\\\"max-width: 100%;\\\">\\n                    <div class=\\\"card-body align-items-center\\\" style=\\\"display:flex;flex-direction: row;\\\">\\n                        <img :src=\\\"require(`../assets/img/${commentdata.img}`)\\\" style=\\\"width: 50px;border-radius: 50%;\\\">\\n                        <div class=\\\"w-100 ps-4\\\">\\n                            <div class=\\\"d-flex\\\" style=\\\"align-items: center;justify-content: space-between;\\\">\\n                                <p style=\\\"font-weight: bold; margin:0;\\\">{{ commentdata.name }}</p>\\n                                <div class=\\\"d-flex\\\" v-if=\\\"commentdata.name === user_name\\\">\\n                                    <div type=\\\"button\\\" class=\\\"m-0\\\" style=\\\"font-size: 16px;\\\" @click=\\\"toggleEdit(index)\\\"><i class=\\\"bi bi-pencil-square\\\"></i></div>\\n                                    <div type=\\\"button\\\" class=\\\"m-0 ms-1\\\" style=\\\"font-size: 16px;\\\" @click=\\\"commentDelete(index, commentdata.id)\\\"><i class=\\\"bi bi-trash\\\"></i></div>\\n                                </div>\\n                            </div>\\n\\n                            <div v-if=\\\"commentdata.isEditing\\\">\\n                                <textarea v-model=\\\"commentdata.editContent\\\" class=\\\"form-control\\\" rows=\\\"2\\\"></textarea>\\n                                <div class=\\\"d-flex mt-2 mb-2\\\" style=\\\"justify-content: flex-end;\\\">\\n                                    <button class=\\\"btn btn-primary btn-sm \\\" @click=\\\"saveEdit(index, commentdata.id)\\\">수정</button>\\n                                    <button class=\\\"btn btn-secondary btn-sm  ms-2\\\" @click=\\\"cancelEdit(index)\\\">취소</button>\\n                                </div>\\n                            </div>\\n\\n                            <p v-else class=\\\"card-text m-0\\\">{{ commentdata.content }}</p>\\n\\n                            <p class=\\\"text-body-tertiary m-0\\\" style=\\\"text-align: end; font-size: 13px;\\\">{{ formatDate(commentdata.create_date) }}</p>\\n                        </div>\\n                    </div>\\n                </div>\\n                <hr style=\\\"margin-bottom:0\\\"/>\\n            </div>\\n            <div class=\\\"card-body d-flex pb-0\\\">\\n                <div class=\\\"d-flex\\\" style=\\\"align-items: flex-start\\\">\\n                    <img :src=\\\"require(`../assets/img/${user_img}`)\\\" style=\\\"width: 50px;border-radius: 50%;\\\">\\n                </div>\\n                <div class=\\\"form-control ms-2\\\" id=\\\"comment\\\" style=\\\"height: auto; min-height: 80px;\\\">\\n                    <div contenteditable=\\\"false\\\" style=\\\"font-weight: bold;\\\">{{ user_name }}</div>\\n                    <div contenteditable=\\\"true\\\" ref=\\\"editableContent\\\" @input=\\\"updateComment\\\" style=\\\"outline: none; border: 2px solid transparent;\\\"></div>\\n                </div>\\n            </div>\\n            <div class=\\\"d-flex justify-content-end\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-outline-primary m-3\\\" @click=\\\"commentAdd(selectBoard.post_id)\\\">등록</button> \")])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_hoisted_8","key","_createElementBlock","_hoisted_1","_hoisted_2","_createTextVNode","_toDisplayString","$props","selectBoard","category_name","_hoisted_3","user_username","_hoisted_4","_hoisted_5","_hoisted_6","title","_hoisted_7","type","onClick","_cache","args","$options","toggleDropdown","_hoisted_9","$data","dropdownVisible","_hoisted_10","$event","editPost","board_id","_ctx","deletePost","_createCommentVNode","stripHtml","content","isEditingPost","_hoisted_11","savePostEdit","cancelPostEdit","_hoisted_12","_hoisted_13","formatDate","create_date","_hoisted_14","_hoisted_15","_hoisted_16","view_count","_hoisted_17","_hoisted_18","commentCount","_hoisted_19","_hoisted_20","comments","length","_hoisted_21"],"sources":["/var/www/front/src/components/Board/BoardView.vue"],"sourcesContent":["<!-- <template>\n    <div class=\"card border-success mb-3\" style=\"max-width: 100%\">\n        <div class=\"card-header d-flex\" style=\"justify-content: space-between;\">\n            {{ selectBoard.category_name }}\n            <p class=\"card-text\">{{ selectBoard.user_username }}</p>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"d-flex justify-content-between\">\n                <h4 class=\"card-title mt-3 mb-3\" v-if=\"!isEditingPost\">{{ selectBoard.title }}</h4>\n                <input v-else v-model=\"editTitle\" class=\"form-control mt-3 mb-3\" />\n                <div class=\"dropdown\">\n                    <div type=\"button\" @click=\"toggleDropdown\" style=\"cursor: pointer;\">\n                        <i class=\"bi bi-three-dots-vertical\"></i>\n                    </div>\n                    <div v-if=\"dropdownVisible\" class=\"dropdown-menu show\">\n                        <button class=\"dropdown-item\" @click=\"editPost(selectBoard.post_id)\">수정</button>\n                        <button class=\"dropdown-item\" @click=\"deletePost\">삭제</button>\n                    </div>\n                </div>\n            </div>\n            <div v-if=\"!isEditingPost\">{{ stripHtml(selectBoard.content) }}</div>\n            <textarea v-else v-model=\"editContent\" class=\"form-control mb-3\" rows=\"5\"></textarea>\n            <div v-if=\"isEditingPost\" class=\"d-flex justify-content-end mb-3\">\n                <button class=\"btn btn-primary btn-sm\" @click=\"savePostEdit\">저장</button>\n                <button class=\"btn btn-secondary btn-sm ms-2\" @click=\"cancelPostEdit\">취소</button>\n            </div>\n            <div class=\"d-flex mt-5\" style=\"justify-content: space-between;\">\n                <p class=\"text-body-tertiary pe-2 m-0\">{{ formatDate(selectBoard.create_date) }}</p>\n                <div class=\"d-flex justify-content-end\">\n                    <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-eye\"></i> {{ selectBoard.view_count }}</p>\n                    <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-chat-dots\"></i> {{ commentCount }}</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"card bg-light m-2\" style=\"max-width: 100%;\">\n            <div class=\"card-header\">댓글</div>\n            <div v-if=\"comments.length > 0\" class=\"d-flex p-3 pb-0 \" style=\"display:flex; flex-direction: column;\">\n                <div v-for=\"(commentdata, index) in comments\" :key=\"index\" class=\"card border-light mb-3\" style=\"max-width: 100%;\">\n                    <div class=\"card-body align-items-center\" style=\"display:flex;flex-direction: row;\">\n                        <img :src=\"require(`../assets/img/${commentdata.img}`)\" style=\"width: 50px;border-radius: 50%;\">\n                        <div class=\"w-100 ps-4\">\n                            <div class=\"d-flex\" style=\"align-items: center;justify-content: space-between;\">\n                                <p style=\"font-weight: bold; margin:0;\">{{ commentdata.name }}</p>\n                                <div class=\"d-flex\" v-if=\"commentdata.name === user_name\">\n                                    <div type=\"button\" class=\"m-0\" style=\"font-size: 16px;\" @click=\"toggleEdit(index)\"><i class=\"bi bi-pencil-square\"></i></div>\n                                    <div type=\"button\" class=\"m-0 ms-1\" style=\"font-size: 16px;\" @click=\"commentDelete(index, commentdata.id)\"><i class=\"bi bi-trash\"></i></div>\n                                </div>\n                            </div>\n\n                            <div v-if=\"commentdata.isEditing\">\n                                <textarea v-model=\"commentdata.editContent\" class=\"form-control\" rows=\"2\"></textarea>\n                                <div class=\"d-flex mt-2 mb-2\" style=\"justify-content: flex-end;\">\n                                    <button class=\"btn btn-primary btn-sm \" @click=\"saveEdit(index, commentdata.id)\">수정</button>\n                                    <button class=\"btn btn-secondary btn-sm  ms-2\" @click=\"cancelEdit(index)\">취소</button>\n                                </div>\n                            </div>\n\n                            <p v-else class=\"card-text m-0\">{{ commentdata.content }}</p>\n\n                            <p class=\"text-body-tertiary m-0\" style=\"text-align: end; font-size: 13px;\">{{ formatDate(commentdata.create_date) }}</p>\n                        </div>\n                    </div>\n                </div>\n                <hr style=\"margin-bottom:0\"/>\n            </div>\n            <div class=\"card-body d-flex pb-0\">\n                <div class=\"d-flex\" style=\"align-items: flex-start\">\n                    <img :src=\"require(`../assets/img/${user_img}`)\" style=\"width: 50px;border-radius: 50%;\">\n                </div>\n                <div class=\"form-control ms-2\" id=\"comment\" style=\"height: auto; min-height: 80px;\">\n                    <div contenteditable=\"false\" style=\"font-weight: bold;\">{{ user_name }}</div>\n                    <div contenteditable=\"true\" ref=\"editableContent\" @input=\"updateComment\" style=\"outline: none; border: 2px solid transparent;\"></div>\n                </div>\n            </div>\n            <div class=\"d-flex justify-content-end\">\n                <button type=\"button\" class=\"btn btn-outline-primary m-3\" @click=\"commentAdd(selectBoard.post_id)\">등록</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            comments: [],\n            user_img: sessionStorage.getItem('user_img'),\n            user_name: sessionStorage.getItem('user_name'),\n            commentText: '',\n            commentCount: this.selectBoard.comment_count,\n            dropdownVisible: false,\n            isEditingPost: false,\n            editTitle: '',\n            editContent: ''\n        };\n    },\n    props: {\n        selectBoard: Object\n    },\n    mounted() {\n        this.commentList();\n    },\n    methods: {\n        toggleDropdown() {\n            this.dropdownVisible = !this.dropdownVisible;\n        },\n        editPost(post_id) {\n            this.editTitle = this.selectBoard.title;\n            this.editContent = this.stripHtml(this.selectBoard.content);\n            this.isEditingPost = true;\n            this.dropdownVisible = false;\n            this.$emit('updateStatusEdit',post_id)\n        },\n        cancelPostEdit() {\n            this.isEditingPost = false;\n        },\n        async savePostEdit() {\n            try {\n                const response = await axios.post('http://127.0.0.1:3000/postedit', {\n                    post_id: this.selectBoard.post_id,\n                    title: this.editTitle,\n                    content: this.editContent\n                });\n                if (response.data.status === 'success') {\n                    // this.selectBoard.title = this.editTitle;\n                    // this.selectBoard.content = this.editContent;\n                    this.isEditingPost = false;\n                } else {\n                    console.error('Failed to edit post');\n                }\n            } catch (error) {\n                console.error('Error editing post:', error);\n            }\n        },\n        async deletePost() {\n            if (confirm(\"삭제하시겠습니까?\")) {\n                try {\n                    const response = await axios.post('http://127.0.0.1:3000/postdelete', {\n                        post_id: this.selectBoard.post_id\n                    });\n                    if (response.data.status === 'success') {\n                        alert('게시글이 삭제되었습니다.');\n                        this.$emit('postDeleted', this.selectBoard.post_id);\n                    } else {\n                        console.error('Failed to delete post');\n                    }\n                } catch (error) {\n                    console.error('Error deleting post:', error);\n                }\n            }\n        },\n        toggleEdit(index) {\n            this.comments[index].isEditing = !this.comments[index].isEditing;\n            if (this.comments[index].isEditing) {\n                this.comments[index].editContent = this.comments[index].content;\n            }\n        },\n        cancelEdit(index) {\n            this.comments[index].isEditing = false;\n        },\n        async saveEdit(index, comment_id) {\n            if (confirm(\"수정하시겠습니까?\")) {\n                const editedComment = this.comments[index].editContent;\n                try {\n                    const response = await axios.post('http://127.0.0.1:3000/commentedit', {\n                        comment_id: comment_id,\n                        content: editedComment\n                    });\n                    if (response.data.status === 'success') {\n                        this.comments[index].content = editedComment;\n                        this.comments[index].isEditing = false;\n                    } else {\n                        console.error('Failed to edit comment');\n                    }\n                } catch (error) {\n                    console.error('Error editing comment:', error);\n                }\n            }\n        },\n        async commentDelete(index, comment_id) {\n            if (confirm(\"삭제하시겠습니까?\")) {\n                try {\n                    const response = await axios.post('http://127.0.0.1:3000/commentdelete', {\n                        comment_id: comment_id\n                    });\n                    if (response.data.status === 'success') {\n                        this.comments.splice(index, 1); // 배열에서 해당 댓글을 완전히 제거합니다.\n                        this.commentCount -= 1;         // 댓글 수를 하나 줄입니다.\n                    } else {\n                        console.error('Failed to delete comment');\n                    }\n                } catch (error) {\n                    console.error('Error deleting comment:', error);\n                }\n            }\n        },\n        updateComment(event) {\n            this.commentText = event.target.innerText;\n        },\n        formatDate(dateString) {\n            let date = new Date(dateString);\n            let year = date.getFullYear();\n            let month = ('0' + (date.getMonth() + 1)).slice(-2);\n            let day = ('0' + date.getDate()).slice(-2);\n            let hours = ('0' + date.getHours()).slice(-2);\n            let minutes = ('0' + date.getMinutes()).slice(-2);\n            return `${year}-${month}-${day} ${hours}:${minutes}`;\n        },\n        stripHtml(html) {\n            let doc = new DOMParser().parseFromString(html, 'text/html');\n            let text = doc.body.textContent || \"\";\n            return text;\n        },\n        async commentAdd(post_id) {\n            try {\n                const user_id = sessionStorage.getItem('user_id');\n                const comment = this.commentText;\n                const response = await axios.get(`http://127.0.0.1:3000/commentadd`, {\n                    params: {\n                        post_id: post_id,\n                        user_id: user_id,\n                        comment: comment\n                    }\n                });\n                if (response.data.status === 'success') {\n                    this.commentList();\n                    this.commentText = '';\n                    this.$refs.editableContent.innerText = '';\n                    this.commentCount = this.commentCount + 1;\n                    alert('댓글이 등록되었습니다.');\n                } else {\n                    console.log('댓글 등록 실패');\n                }\n            } catch (error) {\n                console.error('Error fetching posts:', error);\n            }\n        },\n        async commentList() {\n            try {\n                const response = await axios.get(`http://127.0.0.1:3000/commentlist`, {\n                    params: {\n                        post_id: this.selectBoard.post_id\n                    }\n                });\n                if (response.data.status === 'success') {\n                    this.comments = response.data.res.map(comment => ({\n                        ...comment,\n                        isEditing: false,\n                        editContent: ''\n                    }));\n                } else {\n                    console.error('Failed to fetch comments:', response.data.message);\n                }\n            } catch (error) {\n                console.error('Error fetching comments:', error);\n            }\n        }\n    }\n};\n</script>\n\n<style>\ndiv[contenteditable=\"true\"]:focus {\n    border-color: #5FC8A5;\n}\n</style> -->\n<template>\n    <div class=\"card border-success mb-3\" style=\"max-width: 100%\">\n        <div class=\"card-header d-flex\" style=\"justify-content: space-between;\">\n            {{ selectBoard.category_name }}\n            <p class=\"card-text\">{{ selectBoard.user_username }}</p>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"d-flex justify-content-between\">\n                <h4 class=\"card-title mt-3 mb-3\">{{ selectBoard.title }}</h4>\n                <div class=\"dropdown\">\n                    <div type=\"button\" @click=\"toggleDropdown\" style=\"cursor: pointer;\">\n                        <i class=\"bi bi-three-dots-vertical\"></i>\n                    </div>\n                    <div class=\"dropdown-menu show\" v-if=\"dropdownVisible\" >\n                        <button class=\"dropdown-item\" @click=\"editPost(selectBoard.board_id)\">수정</button>\n                        <button class=\"dropdown-item\" @click=\"deletePost\">삭제</button>\n                    </div>\n                </div>\n            </div>\n            <div>{{ stripHtml(selectBoard.content) }}</div>\n            <div v-if=\"isEditingPost\" class=\"d-flex justify-content-end mb-3\">\n                <button class=\"btn btn-primary btn-sm\" @click=\"savePostEdit\">저장</button>\n                <button class=\"btn btn-secondary btn-sm ms-2\" @click=\"cancelPostEdit\">취소</button>\n            </div>\n            <div class=\"d-flex mt-5\" style=\"justify-content: space-between;\">\n                <p class=\"text-body-tertiary pe-2 m-0\">{{ formatDate(selectBoard.create_date) }}</p>\n                <div class=\"d-flex justify-content-end\">\n                    <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-eye\"></i> {{ selectBoard.view_count + 1 }}</p>\n                    <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-chat-dots\"></i> {{ commentCount }} </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"card bg-light m-2\" style=\"max-width: 100%;\">\n            <div class=\"card-header\">댓글</div>\n            <div v-if=\"comments.length > 0\" class=\"d-flex p-3 pb-0 \" style=\"display:flex; flex-direction: column;\">\n                <!-- <div v-for=\"(commentdata, index) in comments\" :key=\"index\" class=\"card border-light mb-3\" style=\"max-width: 100%;\">\n                    <div class=\"card-body align-items-center\" style=\"display:flex;flex-direction: row;\">\n                        <img :src=\"require(`../assets/img/${commentdata.img}`)\" style=\"width: 50px;border-radius: 50%;\">\n                        <div class=\"w-100 ps-4\">\n                            <div class=\"d-flex\" style=\"align-items: center;justify-content: space-between;\">\n                                <p style=\"font-weight: bold; margin:0;\">{{ commentdata.name }}</p>\n                                <div class=\"d-flex\" v-if=\"commentdata.name === user_name\">\n                                    <div type=\"button\" class=\"m-0\" style=\"font-size: 16px;\" @click=\"toggleEdit(index)\"><i class=\"bi bi-pencil-square\"></i></div>\n                                    <div type=\"button\" class=\"m-0 ms-1\" style=\"font-size: 16px;\" @click=\"commentDelete(index, commentdata.id)\"><i class=\"bi bi-trash\"></i></div>\n                                </div>\n                            </div>\n\n                            <div v-if=\"commentdata.isEditing\">\n                                <textarea v-model=\"commentdata.editContent\" class=\"form-control\" rows=\"2\"></textarea>\n                                <div class=\"d-flex mt-2 mb-2\" style=\"justify-content: flex-end;\">\n                                    <button class=\"btn btn-primary btn-sm \" @click=\"saveEdit(index, commentdata.id)\">수정</button>\n                                    <button class=\"btn btn-secondary btn-sm  ms-2\" @click=\"cancelEdit(index)\">취소</button>\n                                </div>\n                            </div>\n\n                            <p v-else class=\"card-text m-0\">{{ commentdata.content }}</p>\n\n                            <p class=\"text-body-tertiary m-0\" style=\"text-align: end; font-size: 13px;\">{{ formatDate(commentdata.create_date) }}</p>\n                        </div>\n                    </div>\n                </div>\n                <hr style=\"margin-bottom:0\"/>\n            </div>\n            <div class=\"card-body d-flex pb-0\">\n                <div class=\"d-flex\" style=\"align-items: flex-start\">\n                    <img :src=\"require(`../assets/img/${user_img}`)\" style=\"width: 50px;border-radius: 50%;\">\n                </div>\n                <div class=\"form-control ms-2\" id=\"comment\" style=\"height: auto; min-height: 80px;\">\n                    <div contenteditable=\"false\" style=\"font-weight: bold;\">{{ user_name }}</div>\n                    <div contenteditable=\"true\" ref=\"editableContent\" @input=\"updateComment\" style=\"outline: none; border: 2px solid transparent;\"></div>\n                </div>\n            </div>\n            <div class=\"d-flex justify-content-end\">\n                <button type=\"button\" class=\"btn btn-outline-primary m-3\" @click=\"commentAdd(selectBoard.post_id)\">등록</button> -->\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            commentCount: this.selectBoard.comment_count,\n            dropdownVisible: false,\n            isEditingPost: false,\n            editTitle: '',\n            editContent: ''\n        };\n    },\n    props: {\n        selectBoard:Object,\n    },\n    methods:{\n        toggleDropdown() {\n            this.dropdownVisible = !this.dropdownVisible;\n        },\n        editPost(board_id) {\n            this.editTitle = this.selectBoard.title;\n            this.editContent = this.stripHtml(this.selectBoard.content);\n            this.isEditingPost = true;\n            this.dropdownVisible = false;\n            this.$emit('SelectPost',board_id, true)\n        },\n        cancelPostEdit() {\n            this.isEditingPost = false;\n        },\n        stripHtml(html) {\n            let doc = new DOMParser().parseFromString(html, 'text/html');\n            let text = doc.body.textContent || \"\";\n            return text;\n        },\n        formatDate(dateString) {\n            let date = new Date(dateString);\n            let year = date.getFullYear();\n            let month = ('0' + (date.getMonth() + 1)).slice(-2);\n            let day = ('0' + date.getDate()).slice(-2);\n            let hours = ('0' + date.getHours()).slice(-2);\n            let minutes = ('0' + date.getMinutes()).slice(-2);\n            return `${year}-${month}-${day} ${hours}:${minutes}`;\n        },\n    }\n}\n\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}