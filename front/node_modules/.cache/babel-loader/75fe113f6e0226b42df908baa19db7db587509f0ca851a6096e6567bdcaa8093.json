{"ast":null,"code":"export default {\n  name: 'BoardListView',\n  props: {\n    status: String,\n    posts: {\n      type: Object,\n      required: true\n    },\n    totalPosts: Number,\n    currentPage: Number,\n    perPage: Number\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.totalPosts / this.perPage);\n    }\n  },\n  methods: {\n    setActiveTab(tab) {\n      if (sessionStorage.getItem('user_id')) {\n        this.$emit('updateStatus', tab);\n      } else {\n        alert('로그인 후 진행하세요.');\n      }\n    },\n    stripHtml(html) {\n      let doc = new DOMParser().parseFromString(html, 'text/html');\n      let text = doc.body.textContent || \"\";\n      if (text.length > 20) {\n        text = text.substring(0, 20) + \"...\";\n      }\n      return text;\n    },\n    formatDate(dateString) {\n      let date = new Date(dateString);\n      let year = date.getFullYear();\n      let month = ('0' + (date.getMonth() + 1)).slice(-2);\n      let day = ('0' + date.getDate()).slice(-2);\n      let hours = ('0' + date.getHours()).slice(-2);\n      let minutes = ('0' + date.getMinutes()).slice(-2);\n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    },\n    changePage(page) {\n      if (page < 1 || page > this.totalPages) return;\n      this.$emit('updatePage', page);\n    },\n    PostSelect(key) {\n      if (sessionStorage.getItem('user_id')) {\n        this.$emit('SelectPost', key);\n      } else {\n        alert('로그인 후 진행하세요.');\n        this.$emit('openModal');\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","status","String","posts","type","Object","required","totalPosts","Number","currentPage","perPage","computed","totalPages","Math","ceil","methods","setActiveTab","tab","sessionStorage","getItem","$emit","alert","stripHtml","html","doc","DOMParser","parseFromString","text","body","textContent","length","substring","formatDate","dateString","date","Date","year","getFullYear","month","getMonth","slice","day","getDate","hours","getHours","minutes","getMinutes","changePage","page","PostSelect","key"],"sources":["/var/www/front/src/components/Board/MainBoard.vue"],"sourcesContent":["<template>\n    <div class=\"d-flex\" style=\"flex-direction: column;\">\n      <div type=\"button\" class=\"card border-primary m-3\" v-for=\"(post) in posts\" :key=\"post.category_id\" @click=\"PostSelect(post.post_id)\">\n        <div class=\"card-header d-flex\" style=\"justify-content:space-between;\">\n          {{ post.category_name }}\n          <p class=\"card-text\">{{ post.user_username }}</p>\n        </div>\n        <div class=\"card-body\">\n          <h4 class=\"card-title\">{{ post.title }}</h4>\n          <div>{{ stripHtml(post.content) }}</div>\n          <div class=\"d-flex mt-2\" style=\"justify-content: space-between;\">       \n            <p class=\"text-body-tertiary pe-2 m-0\">{{ formatDate(post.create_date) }}</p>\n            <div class=\"d-flex justify-content-end\">\n              <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-eye\"></i> {{ post.view_count }}</p>\n              <p class=\"text-body-tertiary pe-2 m-0\"><i class=\"bi bi-chat-dots\"></i> {{ post.comment_count }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 페이징 -->\n      <div class=\"d-flex justify-content-center\">\n        <ul class=\"pagination\">\n          <li class=\"page-item\" :class=\"{ disabled: currentPage <= 1 }\">\n            <a class=\"page-link\" @click.prevent=\"changePage(currentPage - 1)\">&laquo;</a>\n          </li>\n          <li class=\"page-item\" v-for=\"page in totalPages\" :key=\"page\" :class=\"{ active: page === currentPage }\">\n            <a class=\"page-link\" @click.prevent=\"changePage(page)\">{{ page }}</a>\n          </li>\n          <li class=\"page-item\" :class=\"{ disabled: currentPage >= totalPages }\">\n            <a class=\"page-link\" @click.prevent=\"changePage(currentPage + 1)\">&raquo;</a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"d-flex justify-content-end\">\n        <button type=\"button\" class=\"btn btn-primary\" @click.prevent=\"setActiveTab('boardwrite')\">글쓰기</button>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'BoardListView',\n    props: {\n      status: String,\n      posts: {\n        type: Object,\n        required: true\n      },\n      totalPosts: Number,\n      currentPage: Number,\n      perPage: Number,\n    },\n    computed: {\n      totalPages() {\n        return Math.ceil(this.totalPosts / this.perPage);\n      }\n    },\n    methods: {\n      setActiveTab(tab) {\n        if (sessionStorage.getItem('user_id')){\n          this.$emit('updateStatus', tab);\n        }else{\n          alert('로그인 후 진행하세요.')\n        }\n      },\n      stripHtml(html) {\n        let doc = new DOMParser().parseFromString(html, 'text/html');\n        let text = doc.body.textContent || \"\";\n        if (text.length > 20) {\n          text = text.substring(0, 20) + \"...\";\n        }\n        return text;\n      },\n      formatDate(dateString) {\n        let date = new Date(dateString);\n        let year = date.getFullYear();\n        let month = ('0' + (date.getMonth() + 1)).slice(-2);\n        let day = ('0' + date.getDate()).slice(-2);\n        let hours = ('0' + date.getHours()).slice(-2);\n        let minutes = ('0' + date.getMinutes()).slice(-2);\n        return `${year}-${month}-${day} ${hours}:${minutes}`;\n      },\n      changePage(page) {\n        if (page < 1 || page > this.totalPages) return;\n        this.$emit('updatePage', page);\n      },\n      PostSelect(key){\n        if (sessionStorage.getItem('user_id')){\n          this.$emit('SelectPost',key);\n        }else{\n          alert('로그인 후 진행하세요.');\n          this.$emit('openModal');\n        }\n        \n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  \n  </style>"],"mappings":"AAyCE,eAAe;EACbA,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,MAAM,EAAEC,MAAM;IACdC,KAAK,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,UAAU,EAAEC,MAAM;IAClBC,WAAW,EAAED,MAAM;IACnBE,OAAO,EAAEF;EACX,CAAC;EACDG,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACP,UAAS,GAAI,IAAI,CAACG,OAAO,CAAC;IAClD;EACF,CAAC;EACDK,OAAO,EAAE;IACPC,YAAYA,CAACC,GAAG,EAAE;MAChB,IAAIC,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,EAAC;QACpC,IAAI,CAACC,KAAK,CAAC,cAAc,EAAEH,GAAG,CAAC;MACjC,CAAC,MAAI;QACHI,KAAK,CAAC,cAAc;MACtB;IACF,CAAC;IACDC,SAASA,CAACC,IAAI,EAAE;MACd,IAAIC,GAAE,GAAI,IAAIC,SAAS,CAAC,CAAC,CAACC,eAAe,CAACH,IAAI,EAAE,WAAW,CAAC;MAC5D,IAAII,IAAG,GAAIH,GAAG,CAACI,IAAI,CAACC,WAAU,IAAK,EAAE;MACrC,IAAIF,IAAI,CAACG,MAAK,GAAI,EAAE,EAAE;QACpBH,IAAG,GAAIA,IAAI,CAACI,SAAS,CAAC,CAAC,EAAE,EAAE,IAAI,KAAK;MACtC;MACA,OAAOJ,IAAI;IACb,CAAC;IACDK,UAAUA,CAACC,UAAU,EAAE;MACrB,IAAIC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MAC/B,IAAIG,IAAG,GAAIF,IAAI,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAIC,KAAI,GAAI,CAAC,GAAE,IAAKJ,IAAI,CAACK,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;MACnD,IAAIC,GAAE,GAAI,CAAC,GAAE,GAAIP,IAAI,CAACQ,OAAO,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1C,IAAIG,KAAI,GAAI,CAAC,GAAE,GAAIT,IAAI,CAACU,QAAQ,CAAC,CAAC,EAAEJ,KAAK,CAAC,CAAC,CAAC,CAAC;MAC7C,IAAIK,OAAM,GAAI,CAAC,GAAE,GAAIX,IAAI,CAACY,UAAU,CAAC,CAAC,EAAEN,KAAK,CAAC,CAAC,CAAC,CAAC;MACjD,OAAO,GAAGJ,IAAI,IAAIE,KAAK,IAAIG,GAAG,IAAIE,KAAK,IAAIE,OAAO,EAAE;IACtD,CAAC;IACDE,UAAUA,CAACC,IAAI,EAAE;MACf,IAAIA,IAAG,GAAI,KAAKA,IAAG,GAAI,IAAI,CAACpC,UAAU,EAAE;MACxC,IAAI,CAACQ,KAAK,CAAC,YAAY,EAAE4B,IAAI,CAAC;IAChC,CAAC;IACDC,UAAUA,CAACC,GAAG,EAAC;MACb,IAAIhC,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,EAAC;QACpC,IAAI,CAACC,KAAK,CAAC,YAAY,EAAC8B,GAAG,CAAC;MAC9B,CAAC,MAAI;QACH7B,KAAK,CAAC,cAAc,CAAC;QACrB,IAAI,CAACD,KAAK,CAAC,WAAW,CAAC;MACzB;IAEF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}